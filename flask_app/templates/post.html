{% extends 'base.html' %}

{% block title %} Post: {{ image_stats.id }} {% endblock %}

{% block content %}
<div class="content">
    <h1>Post</h1>

    <div class="image-container">
        <img
            src="{{ url_for('get_image', id=image_stats.id) }}"
            style="max-width: 600px;"
            loading="lazy"
        >
    </div>
    <div class="tags-container">
        <strong>Tags:</strong>
        <ul class="tag-list" style="list-style: disc; margin: 0;">
            {% for tag in tags %}
                <li>{{ tag.name }}</li>
            {% endfor %}
        </ul>
    </div>
    <br/>
    <div class="details">
        <span><strong>ID:</strong> {{ image_stats.id }}</span><br/>
        <span><strong>Date:</strong> {{ image_stats.date }}</span><br/>
        <span><strong>File Type:</strong> {{ image_stats.mimetype }}</span><br/>
        <span>
            View full image
            <a href="{{ url_for('get_image', id=image_stats.id) }}">here</a>
        </span>
    </div>
    <div class="delete-button">
        <button onclick="confirmDelete()">Delete</button>
    </div>
</div>
<script>
    function confirmDelete() {
        const confirmation = confirm("Are you sure you want to delete the image?");

        if (confirmation) {
            window.location.href = `{{ url_for("delete_image", id=image_stats.id) }}`;

            window.alert("Image deleted successfully!");
        }
    }
</script>

{% endblock %}